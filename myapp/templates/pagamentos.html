{% extends "base.html" %}

{% block titulo %}
    Gerenciador de Republicas - Pagamentos
{% endblock %}

{% block conteudo %}

    <!-- <div class="mycard">
        <h1>Pagamentos</h1>
        <ul>
            {% for l in pagamentos %}
            <li>{{ l.conta.nome_conta }} | {{l.valor_pago}} | {{l.pessoa.nome}}</li>
            {% endfor %}
        </ul>
    </div> -->

    <div class="mycard">
        <h1>Pagamentos</h1>
        
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Conta</th>
                    <th>Valor Pago</th>
                    <th>Data do Pagamento</th>
                    <th>Pago por</th>
                </tr>
            </thead>
            <tbody>
                {% for pagamento in pagamentos %}
                <tr>
                    <td>{{ pagamento.conta.nome_conta }}</td>
                    <td>R$ {{ pagamento.valor_pago }}</td>
                    <td>{{ pagamento.data_pagamento|date:"d/m/Y H:i" }}</td>
                    <td>{{ pagamento.pessoa.nome }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4">Nenhum pagamento registrado.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <a href="{% url 'adicionar_pagamento' %}" class="btn btn-primary text-white mb-3"> Adicionar Pagamento </a>

    </div>

{% endblock %}